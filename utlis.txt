utility funcations for version 3